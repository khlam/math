<html>
    <meta charset="utf-8">
    <link rel="stylesheet" href="./css/simple-grid.min.css">
    <link rel="stylesheet" href="./css/style.css">

    <script src="./js/os.js"></script>
    <script src="./js/param.js"></script>
    <script src="./js/rng.js"></script>
    <script src="./js/division.js"></script>
    <script src="./js/QA.js"></script>
    <script src="./js/jquery-git.js"></script>

    <body>
        <div class="row">
            <div class= "col-10">
                <h2><a href="https://khlam.github.io/" style="text-decoration:none">khlam.github.io</a><a href="./math.html" style="text-decoration:none">/math</a></h2>
                <h4>Simple math practice generator.</h4>
                <p>Refresh your math skills by solving addition, subtraction, division and multiplication problems. Runs in your browser session, refresh to reset.</p> 
            </div>
        </div>

        <div id="params">
            <div id="chooseProblems" class="row">
                <input type="checkbox" id="add" onClick="params.init = initGenProblems()">Addition<br>
                <input type="checkbox" id="sub" onClick="params.init = initGenProblems()">Subtraction<br>
                <input type="checkbox" id="mul" onClick="params.init = initGenProblems()">Multiplication<br>
                <input type="checkbox" id="div" onClick="params.init = initGenProblems()">Division<br>
            </div>
        
            <div id="addition" class="row" style="display: none">Set addition Params</div>
            <div id="subtraction" class="row" style="display: none">Set subtraction Params</div>
            <div id="multiplication" class="row" style="display: none">Set multiplication Params</div>
    
            <div id="division" class="row" style="display: none">
                <div class= "col-10">
                    <h1>Division</h1>
                    <h3>Dividend ranges from
                        <input type="number" id="divisionDividend_LOWER" value=1></input>
                        to
                        <input type="number" id="divisionDividend_UPPER" value=144></input>
                    </h3>
                    <h3>Divisor ranges from
                        <input type="number" id="divisionDivisor_LOWER" value=1></input>
                        to
                        <input type="number" id="divisionDivisor_UPPER" value=12></input>
                    </h3>
                </div>
            </div>
    
            <div id="startButton" style="display: none">
                <button onClick="initGenProblems(); hideParams();">Start!</button>
            </div>
        </div>

        <div id="currentProblem" class="row"></div>
        <button onClick="_generateProblem(params)">test</button>
        <div class="footer">
            <p><a href="https://khlam.github.io/" style="text-decoration:none">Contact</a> - <a href="./openSource.html" style="text-decoration:none">Open Source</a></p>
        </div>
    </body>
    
    <script>
        let solved = 0; // count number of solved problems
        
        // Parameter watcher, defines what kind of problems to generate
        var params = {meta: 0, init:null}, watcher = function(propertyName, oldValue, newValue) {
            console.log(params.init)

            // Hide/Show start button
            if (params.init.addition || params.init.subtraction || params.init.multiplication || params.init.division) {
                document.getElementById('startButton').style.display = "block";
            }else {
                document.getElementById('startButton').style.display = "none";
            }
            
            // Hide/show set ranges for the respective problem type
            if (params.init.addition){
                document.getElementById('addition').style.display = "block";
            }else {
                document.getElementById('addition').style.display = "none";
            }
            if (params.init.subtraction){
                document.getElementById('subtraction').style.display = "block";
            }else {
                document.getElementById('subtraction').style.display = "none";
            }
            if (params.init.multiplication){
                document.getElementById('multiplication').style.display = "block";
            }else {
                document.getElementById('multiplication').style.display = "none";
            }
            if (params.init.division){
                document.getElementById('division').style.display = "block";
            }else {
                document.getElementById('division').style.display = "none";
            }
        }
        watch(params, 'init', watcher)
    </script>
    
    <script>
        function _generateProblem(params) {
            params.init = initGenProblems()
            generateProblem(params).then(question => {document.getElementById('addition').innerHTML = display(question);console.log(display(question))})
        }
        function hideParams() {
            document.getElementById('params').style.display = "none";
        }
    </script>

</html>